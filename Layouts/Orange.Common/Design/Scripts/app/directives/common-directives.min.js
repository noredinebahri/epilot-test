orangeCommonApp.app.directive("multiSelect",function(){return{restrict:"A",link:function(n,t,i){n.$watchGroup([i.multiSelectData,"reloadMultiSelect"],function(n,r,u){!i.multiSelectInitialized&&n[0]&&n[0].length?(t.multiselect(u.$eval(i.multiSelect)),i.multiSelectInitialized=!0):(i.multiSelectInitialized||n[1])&&t.multiselect("refresh")})}}});orangeCommonApp.app.directive("loadingSpinner",function(){return{bindings:{activeCalls:"<"},restrict:"E",replace:!0,template:'<div ng-show="activeCalls" id="loading-mask" style="display:block;">                            <div id="loading-mask-inner">                                <img src="/_layouts/15/Orange.Common/Design/Images/ajax-loader.gif">                                <br />                                <span>Chargement en cours...<\/span>                            <\/div>                         <\/div>'}});orangeCommonApp.app.directive("jqueryAutocomplete",function(n,t){return{restrict:"A",require:"ngModel",compile:function(i,r){var u=n(r.valueNgModel),f=t.get(r.serviceName),e=f[r.serviceMethod];return function(n,t,i){var r=null,f=t.autocomplete({minLength:3,autoFocus:!0,source:function(n,t){e(n.term).then(function(n){return r=$.map(n.data,function(n){return{label:n.ItemLabel,id:n.ItemId,value:n.ItemLabel}}),t(r)},function(n){logger.logError("Unable to load action priorities: "+n.message,n)})},select:function(r,f){n.$apply(function(n){u.assign(n,f.item.id)});i.onSelect&&n.$apply(i.onSelect);t.val(f.item.label);r.preventDefault()},change:function(){var e=t.val(),f=null,i;if(r)for(i=0;i<r.length;i++)if(r[i].label===e){f=r[i];break}n.$apply(function(n){u.assign(n,f?f.id:null)})}})}}}});orangeCommonApp.app.directive("errorHttp",function(n,t,i){return{restrict:"E",replace:!0,template:"<div class='com-error' role='alert' ng-if='errorhttp'>                        <i class='fas fa-exclamation-circle'><\/i>                        Une erreur est survenue :                        <span id='errorguid'><\/span>                        <span id='errormessage'><\/span>                        <span class='close-error' ng-click='close()'><i class='fas fa-times'><\/i><\/span>                   <\/div>",link:function(t){n.$watch("errorhttp",function(n){var t,r,f,e,u;n&&(t="Une erreur est survenue.",r=" Veuillez contacter votre administrateur.",n.status!=500?(f={Module:i,Code:n.status,Message:n.statusText,Params:"TODO",Requete:n.config.url.toString(),Trace:"GET - ERROR",Type:2},e=epilotproperties.getWebServiceUrl()+"Log/Save",$.support.cors=!0,$.ajax({type:"POST",url:e,dataType:"json",data:f,xhrFields:{withCredentials:!0},success:function(i){var u=i.Guid;n.status==404?t="Désolé, le service que vous demandez est introuvable.":(n.status==401||n.status==403)&&(t="Désolé, l'accès au service que vous demandez est interdit ou refusé.");$("#errorguid").text(u);$("#errormessage").text(t+r)},failure:function(n){console.error(n);t="Désolé, le service que vous demandez est introuvable.";$("#errormessage").text(t+r)},error:function(n){console.error(n);t="Désolé, le service que vous demandez est introuvable.";$("#errormessage").text(t+r)}})):(u=n.statusText.split(":"),$("#errorguid").text(u[0]),u[1]?$("#errormessage").text(u[1]):$("#errormessage").text(r)))});t.close=function(){n.errorhttp=!1}}}});orangeCommonApp.app.directive("hierarchyNavigation",function(n,t){var i=function(n){if(t==1){var i=JSON.parse(sessionStorage.getItem("Epilot.Perfco.Actor"));n&&i&&n.Code!=i.Code||($("#page-title-seleted-user-pipe").text(""),$("#page-title-seleted-user-name").text(""),$("#page-title-seleted-user-name").attr("title",""),$("#page-title-seleted-user-agency").text(""));n&&i&&n.Code!=i.Code&&($("#page-title-seleted-user-pipe").text("| "),$("#page-title-seleted-user-name").text(n.Label&&n.Label.length>18?n.Label.substring(0,18)+"...":n.Label),$("#page-title-seleted-user-name").attr("title",n.Label),$("#page-title-seleted-user-agency").text(""),n.AgencyLabel&&$("#page-title-seleted-user-agency").text(" / "+n.AgencyLabel))}};return{restrict:"E",replace:!0,templateUrl:"/_layouts/15/Orange.Common/Design/Scripts/app/views/panels/hierarchyNavigation.html?version=EPilotCurrentVersion",link:function(){n.$watch(function(){return sessionStorage.getItem("Epilot.Perfco.NavigationActor")},function(n){if(n){var t=JSON.parse(n);i(t)}},!0);$(".com-topnav-alerts #hierarchie").html="";$(".com-topnav-alerts #hierarchie").append($(".hierarchie-top-button"))},controller:"@",name:"ctrlName",controllerAs:"vm"}});orangeCommonApp.app.directive("enterEvent",function(){return function(n,t,i){t.bind("keydown keypress",function(t){t.which===13&&(n.$apply(function(){n.$eval(i.enterEvent)}),t.preventDefault())})}});orangeCommonApp.app.directive("itemsPerPage",function(){return{restrict:"E",replace:!0,template:'<div class="col-md-2 item-per-page">                       <ul class="pagination pagination-sm">                           <li ng-repeat="value in Grid.Options.paginationPageSizes track by $index" >                               <a href="#" ng-click="Grid.Resize(value)"                                      ng-class="{\'item-per-page-selected\': value == Grid.Options.paginationPageSize }"                                     ng-bind="value"><\/a>                           <\/li>                       <\/ul>                   <\/div>'}});orangeCommonApp.app.directive("pagination",function(){return{restrict:"E",replace:!0,template:'<div class="col-md-10 pagination-item">                       <div ng-show="Grid.Options.totalItems > Grid.Options.paginationPageSize">                           <ul uib-pagination class="pagination-sm" max-size="5" boundary-link-numbers="true" rotate="true" total-items="Grid.Options.totalItems" items-per-page="Grid.Options.paginationPageSize"                                            ng-model="Grid.Options.paginationCurrentPage" previous-text="&lsaquo;" next-text="&rsaquo;">                           <\/ul>                       <\/div>                   <\/div>'}});orangeCommonApp.app.directive("itemsCounter",function(){return{restrict:"E",replace:!0,template:'<div class="btn-result fr">                       <span class="ng-binding" ng-if="nbSiren" ng-bind="nbSiren"><\/span>                       <span class="ng-binding" ng-if="Grid.Options && Grid.Options.totalItems" ng-bind="Grid.Options.totalItems"><\/span>                        <p ng-if="nbSiren">SIREN<\/p>                        <p ng-if="Grid.Options && Grid.Options.totalItems">résultats<\/p>                    <span class="ng-binding" ng-if="!Grid.Options || !Grid.Options.totalItems">Aucun <p>résultats<p><\/span>                   <\/div>'}});orangeCommonApp.app.directive("datepickerPopup",function(){return{restrict:"EAC",require:"ngModel",link:function(n,t,i,r){r.$formatters.shift()}}});orangeCommonApp.app.directive("dateFormatter",[function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){r.$parsers.push(function(n){console.log("parsers.push "+n);var t=moment(n).format("DD/MM/YYYY");return console.log("$parsers.out = "+t),t});r.$formatters.push(function(n){console.log("$formatters.push "+n);var t=moment(n,"DD/MM/YYYY").toDate();return console.log("$formatters.out ="+t),t})}}}]);orangeCommonApp.app.directive("addButton",function(){return{restrict:"E",replace:!0,template:'<div class="btn-action" ng-disabled="!Page.IsEditable()" ng-click="Page.IsEditable() && EditPopup.OpenAdd()">                        <a href="#">                            <i class="fa fa-plus" aria-hidden="true"><\/i> <p> Ajouter <\/p><\/a>                    <\/div>'}});orangeCommonApp.app.directive("exportButton",function(){return{restrict:"E",replace:!0,template:'<div class="btn-action" ng-click="Boutons.AreActive() && exportToExcel()" ng-disabled="!Boutons.AreActive()">                        <a href="#">                            <i class="fa fa-download" aria-hidden="true"><\/i> <p>Exporter<\/p>                        <\/a>                    <\/div>'}});orangeCommonApp.app.directive("importButton",function(){return{restrict:"E",replace:!0,template:'<div class="btn-action" ng-disabled="!Page.IsEditable() || !Boutons.Import.IsActive() || !Boutons.AreActive()" ng-click="Page.IsEditable() && Boutons.Import.IsActive() && Boutons.AreActive() && ImportPopup.Open()">                        <a href="#">                              <i class="fa fa-upload" aria-hidden="true"><\/i><p>{{Boutons.Import.Name}}<\/p>                        <\/a>                    <\/div>'}});orangeCommonApp.app.directive("agencySelector",function(){return{restrict:"E",replace:!0,template:'<div class="btn-group fl com-top-selector common-content">                            <button type="button" class="dropdown-toggle btn-agency-selector" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">                                <div>                                    <i class="fa fa-home" aria-hidden="true"><\/i>                                    <span class="glyphicon glyphicon-chevron-down"><\/span>                                <\/div>                                <div class="periodName">{{selectedAgencyName}}<\/div>                            <\/button>                            <ul class="dropdown-menu">                                <li ng-repeat="item in Agence.AllFormattedCopy">                                    <a href="#" title="Selectionner cette agence" ng-click="Agence.Change(item.value);"><i class="fa fa-home"><\/i>{{item.name}}<\/a>                                <\/li>                            <\/ul>                        <\/div>'}});orangeCommonApp.app.directive("anneeSelector",function(){return{restrict:"E",replace:!0,template:'<div class="btn-group fl com-top-selector common-content">                            <button type="button" class="dropdown-toggle btn-annee-selector" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">                                <div>                                    <i class="fa fa-calendar" aria-hidden="true"><\/i>                                    <span class="glyphicon glyphicon-chevron-down"><\/span>                                <\/div>                                <div class="anneeName">{{selectedAnneeName}}<\/div>                            <\/button>                            <ul class="dropdown-menu">                                <li ng-repeat="item in Annee.AllFormattedCopy">                                    <a href="#" title="Selectionner cette année" ng-click="Annee.Change(item.value);"><i class="fa fa-calendar"><\/i>{{item.name}}<\/a>                                <\/li>                            <\/ul>                        <\/div>'}});orangeCommonApp.app.directive("periodSelector",function(){return{restrict:"E",replace:!0,templateUrl:"/_layouts/15/Orange.Common/Design/Scripts/app/views/periodSelector.html?version=EPilotCurrentVersion"}});orangeCommonApp.app.directive("moduleSelector",function(){return{restrict:"E",replace:!0,template:'<div class="btn-group fl btn-agency common-content module-selector" title="{{selectedModuleName}}">                            <button type="button" class="dropdown-toggle btn-agency-selector" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">                                <div>                                    <i class="fa fa-crosshairs" aria-hidden="true"><\/i>                                    <span class="glyphicon glyphicon-chevron-down"><\/span>                                <\/div>                                <div class="agencyName" >{{selectedModuleName | limitTo:9}}                                     <span ng-if="selectedModuleName.length > 9">...<\/span>                                <\/div>                            <\/button>                            <ul class="dropdown-menu">                                <li ng-repeat="item in listeModules">                                    <a href="#" title="Selectionner cette agence" ng-click="changeModule(item.value);"><i class="fa fa-home"><\/i>{{item.name}}<\/a>                                <\/li>                            <\/ul>                        <\/div>'}});orangeCommonApp.app.directive("alertSuccess",function(){return{restrict:"E",replace:!0,template:' <div class="alert alert-success fade in" id="success-alert" ng-if="successMessagePart1 || successMessagePart2" style="margin-bottom:2px;">                         <a href="#" class="close" ng-click="closeAlert()">&times;<\/a>                         <strong> {{successMessagePart1}} <\/strong>                             {{successMessagePart2}}                     <\/div>'}});orangeCommonApp.app.directive("alertWarning",function(){return{restrict:"E",replace:!0,template:' <div class="alert alert-warning fade in" id="warning-alert" ng-if="warningMessagePart1 || warningMessagePart2" style="margin-bottom:2px;">                         <a href="#" class="close" ng-click="closeWarning()">&times;<\/a>                         <strong> {{warningMessagePart1}} <\/strong>                             {{warningMessagePart2}}                     <\/div>'}});orangeCommonApp.app.directive("messageInfoAdmin",function(){return{restrict:"E",replace:!0,template:' <div>                        <div class="com-message-info-admin col-xs-12">                            <div class="message_texte">                                <span ng-bind-html="message"><\/span>                            <\/div>                        <div class="message_picto">                            <img ng-src="{{image}}"><\/img>                        <\/div>                    <\/div>                <\/div>',link:function(){},scope:{message:"@",image:"@"},bindToController:!0,controller:function(n,t,i,r,u){t.defaultMessage="Vous pouvez cliquer sur une <o>injection<\/o>, la <o>modifier, l'exporter<\/o> ou en <o>importer<\/o> une nouvelle en haut à droite";t.defaultImage="seringue.png";u.message||(u.message=t.defaultMessage);u.image||(u.image=t.defaultImage);t.message=u.message.replace(new RegExp("<o>","g"),'<span class="orange-bold">');t.message=t.message.replace(new RegExp("<\/o>","g"),"<\/span>");t.image="/_layouts/15/Orange.Common/Design/Images/Aide/"+u.image}}});orangeCommonApp.app.directive("notification",function(){return{restrict:"E",replace:!0,templateUrl:"/_layouts/15/Orange.Common/Design/Scripts/app/views/panels/notification.html?version=EPilotCurrentVersion",link:function(){$(".com-topnav-alerts #notification").html="";$(".com-topnav-alerts #notification").append($(".notification-top-button"))}}});orangeCommonApp.app.directive("overrideUser",function(){return{restrict:"E",replace:!0,templateUrl:"/_layouts/15/Orange.Common/Design/Scripts/app/views/panels/overrideUser.html?version=EPilotCurrentVersion",link:function(){$(".com-topnav-alerts #overrideuser").html="";$(".com-topnav-alerts #overrideuser").append($(".overrideuser-top-button"))}}});orangeCommonApp.app.directive("blocNote",function(){return{restrict:"E",replace:!0,templateUrl:"/_layouts/15/Orange.Common/Design/Scripts/app/views/panels/blocNote.html?version=EPilotCurrentVersion",link:function(){$(".com-topnav-alerts #bloc-note").html="";$(".com-topnav-alerts #bloc-note").append($(".bloc-note-top-button"))}}});orangeCommonApp.app.directive("aide",function(){return{restrict:"E",replace:!0,templateUrl:"/_layouts/15/Orange.Common/Design/Scripts/app/views/panels/aide.html?version=EPilotCurrentVersion",link:function(){$(".com-topnav-alerts #aide").html="";$(".com-topnav-alerts #aide").append($(".aide-top-button"))}}});orangeCommonApp.app.directive("telechargement",function(){return{restrict:"E",replace:!0,templateUrl:"/_layouts/15/Orange.Common/Design/Scripts/app/views/panels/telechargement.html?version=EPilotCurrentVersion",link:function(){$(".com-topnav-alerts #telechargement").html="";$(".com-topnav-alerts #telechargement").append($(".telechargement-top-button"))}}});orangeCommonApp.app.directive("rechercheClient",function(){return{restrict:"E",replace:!0,templateUrl:"/_layouts/15/Orange.Common/Design/Scripts/app/views/panels/rechercheClient.html?version=EPilotCurrentVersion",link:function(){$(".com-topnav-alerts #recherche-client").html="";$(".com-topnav-alerts #recherche-client").append($(".recherche-client-top-button"))}}});