orangeCommonApp.app.service("statistiqueService",function(){this.trackEvent=function(n){typeof ga!="undefined"&&(console.log(n),gtag("js",new Date),gtag("config",googleAnalyticsKey),gtag("event",n,{event_category:"statistique",event_label:n}))}});orangeCommonApp.app.service("notificationCommonService",function(n){this.getAllActives=function(t){if(t){var i=epilotproperties.getWebServiceUrl()+"Notification/GetActiveByModule/"+t;return n.get(i)}};this.count=function(t){if(t){var i=epilotproperties.getWebServiceUrl()+"Notification/Count/"+t;return n.get(i)}};this.utilisateurNotificationSave=function(t){var i=epilotproperties.getWebServiceUrl()+"NotificationPopup/UtilisateurNotificationSave";return n.post(i,t)};this.getAllPopupNotificationActives=function(){var t=epilotproperties.getWebServiceUrl()+"NotificationPopup/GetAllActif/";return n.get(t)}});orangeCommonApp.app.service("blocNoteService",function(n){this.getAll=function(t,i){var r=i?epilotproperties.getWebServiceUrl()+"Note/GetAll/"+t+"/"+i:epilotproperties.getWebServiceUrl()+"Note/GetAll/"+t+"/";return n.get(r)};this.count=function(){var t=epilotproperties.getWebServiceUrl()+"Note/Count/";return n.get(t)};this.read=function(t){var i=epilotproperties.getWebServiceUrl()+"Note/Read/"+t;return n.get(i)};this.delete=function(t){var i=epilotproperties.getWebServiceUrl()+"Note/Delete/"+t;return n.get(i)};this.save=function(t){var i=epilotproperties.getWebServiceUrl()+"Note/Save/";return n.post(i,t)};this.actors=function(t){var i=epilotproperties.getWebServiceUrl()+"Note/SearchActor/"+t;return n.get(i)};this.saveCommentaire=function(t){var i=epilotproperties.getWebServiceUrl()+"NoteCommentaire/Save";return n.post(i,t)};this.getAllCommentaires=function(t){var i=epilotproperties.getWebServiceUrl()+"NoteCommentaire/GetAll/"+t;return n.get(i)};this.deleteCommentaire=function(t){var i=epilotproperties.getWebServiceUrl()+"NoteCommentaire/Delete/"+t;return n.get(i)};this.readCommentaire=function(t){var i=epilotproperties.getWebServiceUrl()+"NoteCommentaire/Read/"+t;return n.get(i)};this.getAllFavoris=function(){var t=epilotproperties.getWebServiceUrl()+"NoteFavoris/GetAll/";return n.get(t)};this.saveFavoris=function(t){var i=epilotproperties.getWebServiceUrl()+"NoteFavoris/Save";return n.post(i,t)};this.deleteFavoris=function(t){var i=epilotproperties.getWebServiceUrl()+"NoteFavoris/Delete/"+t;return n.get(i)}});orangeCommonApp.app.service("homeService",function(n){this.getByModule=function(t){var i=t?epilotproperties.getWebServiceUrl()+"Home/"+t:epilotproperties.getWebServiceUrl()+"Home/";return n.get(i)}});orangeCommonApp.app.service("userService",function(n,t){this.getAllUsers=function(t){var i=epilotproperties.getWebServiceUrl()+"User/GetUtilisateurs/"+t;return n.get(i)};this.searchbyAgence=function(t,i){var r=epilotproperties.getWebServiceUrl()+"User/Search/"+t+"/"+i;return n.get(r)};this.getEPilotWebServiceUrl=function(){var i=$("#PropertyEPilotWebApiUrl").text(),t,n;return i?i:(t=$.ajax({type:"GET",url:"/_layouts/15/Orange.Common/handlers/GlobalInfo.ashx",dataType:"json",cache:!1,async:!1}),n={valid:t.statusText,data:t.responseJSON},n.data&&n.valid=="OK"&&n.data.EPilotWS)?n.data.EPilotWS.trim():void 0};this.getRapportFiltre=function(i){var u=t.defer(),r=this.getEPilotWebServiceUrl()+"User/GetRapportFiltreByCodeAlliance/"+i;return n.get(r)};this.getRapportFiltreCapa=function(i){var u=t.defer(),r=this.getEPilotWebServiceUrl()+"User/GetRapportFiltreCapaByCodeAlliance/"+i;return n.get(r)};this.getCurrent=function(){if(sessionStorage.getItem("Epilot.User.Current"))return JSON.parse(sessionStorage.getItem("Epilot.User.Current"));var i=t.defer(),r=this.getEPilotWebServiceUrl()+"User/Current/";return n.get(r).then(function(n){n.data&&n.status==200&&(sessionStorage.setItem("Epilot.User.Current",JSON.stringify(n.data)),i.resolve(n.data))}),i.promise};this.getCurrentNoCache=function(){var t=epilotproperties.getWebServiceUrl()+"User/Current/";return n.get(t)};this.getUser=function(){var t=epilotproperties.getWebServiceUrl()+"User/";return n.get(t)};this.desabonnement=function(){var t=epilotproperties.getWebServiceUrl()+"User/Desabonnement/";return n.get(t)}});orangeCommonApp.app.service("cacheService",function(n,t){this.getCache=function(i,r){var u=t.defer(),f=JSON.parse(sessionStorage.getItem(i));return!r&&f?(logger.logInfo("Fetching cached value for : "+i),u.resolve(f),u.promise):(n.get(i).then(function(n){if(n.status==200){logger.logInfo("Creating cache value for : "+i);try{sessionStorage.setItem(i,JSON.stringify(n))}catch(t){(t.name=="QuotaExceededError"||t.name=="NS_ERROR_DOM_QUOTA_REACHED")&&sessionStorage.clear()}u.resolve(n)}else logger.logInfo("Unable to load data to be cached from : "+i,n),u.resolve()},function(n){logger.logInfo("Unable to load data to be cached from : "+i+" : "+n.message,n);u.reject(n)}),u.promise)};this.setCache=function(n,t){logger.logInfo("Changing cache value for : "+n,t);try{sessionStorage.setItem(n,JSON.stringify(t))}catch(i){(i.name=="QuotaExceededError"||i.name=="NS_ERROR_DOM_QUOTA_REACHED")&&sessionStorage.clear()}}});orangeCommonApp.app.service("tutorielService",function(n){this.avu=function(t){var i=epilotproperties.getWebServiceUrl()+"Tutoriel/AVu/"+t;return n.get(i)};this.save=function(t){var i=epilotproperties.getWebServiceUrl()+"Tutoriel/Save/";return n.post(i,t)}});orangeCommonApp.app.service("telechargementService",function(n){this.get=function(){var n=epilotproperties.getWebServiceUrl()+"Telechargements/";return $.support.cors=!0,$.ajax({type:"GET",url:n,dataType:"json",xhrFields:{withCredentials:!0}})};this.refresh=function(){var n=epilotproperties.getWebServiceUrl()+"Telechargements/Refresh/";return $.support.cors=!0,$.ajax({type:"GET",url:n,dataType:"json",xhrFields:{withCredentials:!0}})};this.updateStatus=function(t,i){var r=epilotproperties.getWebServiceUrl()+"Telechargements/UpdateStatus/"+t+"/"+i;return n.get(r)}});orangeCommonApp.app.service("rechercheClientService",function(n){this.getClients=function(t,i){var r=epilotproperties.getWebServiceUrl()+"RechercheClient/GetClients/"+i;return n.get(r)};this.getActeurs=function(t){var i=epilotproperties.getWebServiceUrl()+"RechercheActeur/GetActeurs/"+t;return n.get(i)};this.getProduits=function(t){var i=epilotproperties.getWebServiceUrl()+"RechercheProduit/GetProduits/"+t;return n.get(i)};this.getDomaines=function(t,i){var r=epilotproperties.getWebServiceUrl()+"RechercheClient/GetDomaines/"+t+"/"+i;return n.get(r)}});orangeCommonApp.app.service("homeNavService",function(n){this.getAllBlocs=function(){var t=epilotproperties.getWebServiceUrl()+"AccueilBloc/GetAll/";return n.get(t)};this.getAllBlocItems=function(){var t=epilotproperties.getWebServiceUrl()+"AccueilBloc/Items/GetAll/";return n.get(t)}});